<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Back to Skool: Routine at 62794</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../microsphere.css" />
<link rel="stylesheet" type="text/css" href="../skool.css" />
<link rel="stylesheet" type="text/css" href="../bts.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a class="link" href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="62770.html">62770</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#62794">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="62815.html">62815</a></span></td>
</tr>
</table>
<div class="description">62794: Make MR WACKER find the truant ERIC</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
The address of this interruptible subcommand routine is placed into bytes 9 and 10 of MR WACKER's buffer by the routine at <a class="link" href="32054.html">32054</a> after ALBERT has spotted ERIC trying to escape and raised the alarm.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">200 (MR WACKER)</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62794"></a>62794</td>
<td class="instruction">LD L,29</td>
<td class="comment-11" rowspan="2">Set bit 7 of byte 29 of MR WACKER's buffer, making him run</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62796"></a>62796</td>
<td class="instruction">SET 7,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62798"></a>62798</td>
<td class="instruction">LD L,0</td>
<td class="comment-11" rowspan="1">Point <span class="register">HL</span> at byte 0 of MR WACKER's buffer</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62800"></a>62800</td>
<td class="instruction">BIT 0,(HL)</td>
<td class="comment-11" rowspan="1">Is MR WACKER midstride?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62802"></a>62802</td>
<td class="instruction">JP NZ,<a class="link" href="25944.html#25950">25950</a></td>
<td class="comment-11" rowspan="1">Finish the stride if so</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62805"></a>
<div class="comments">
<div class="paragraph">
Now check whether a command list restart has been requested. This request will have been made if the lesson in which MR WACKER started chasing ERIC has ended, and the next lesson has just begun (see <a class="link" href="63309.html">63309</a>).
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62805"></a>62805</td>
<td class="instruction">LD L,29</td>
<td class="comment-11" rowspan="2">Has a command list restart been requested (i.e. should MR WACKER end the chase now)?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62807"></a>62807</td>
<td class="instruction">BIT 0,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62809"></a>62809</td>
<td class="instruction">JP NZ,<a class="link" href="32379.html#32399">32399</a></td>
<td class="comment-11" rowspan="1">Jump if so</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62812"></a>62812</td>
<td class="instruction">JP <a class="link" href="25944.html">25944</a></td>
<td class="comment-11" rowspan="1">Otherwise continue the hunt for ERIC</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="62770.html">62770</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#62794">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="62815.html">62815</a></span></td>
</tr>
</table>
<div class="footer">
<div class="release">The complete Back to Skool RAM disassembly 20140614</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd (Back to Skool). &#169; 2014 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a class="link" href="http://pyskool.ca/?page_id=177">SkoolKit</a> 4.0.</div>
</div>
</body>
</html>