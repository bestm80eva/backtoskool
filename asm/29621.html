<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Back to Skool: Routine at 29621</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../bts.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a class="link" href="../index.html"><img alt="Back to Skool" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="29613.html">29613</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#29621">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="29643.html">29643</a></span></td>
</tr>
</table>
<div class="description">29621: Add to the score and print it</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by the routines at <a class="link" href="23907.html">23907</a>, <a class="link" href="24028.html">24028</a>, <a class="link" href="28952.html">28952</a>, <a class="link" href="29716.html">29716</a>, <a class="link" href="29896.html">29896</a>, <a class="link" href="30739.html">30739</a>, <a class="link" href="30786.html">30786</a>, <a class="link" href="30804.html">30804</a> and <a class="link" href="62910.html">62910</a>.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">A</td>
<td class="register-desc">Points to add/10</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="29621"></a>29621</td>
<td class="instruction">PUSH DE</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29622"></a>29622</td>
<td class="instruction">LD E,A</td>
<td class="comment-11" rowspan="2"><span class="register">DE</span>=number of points to add (divided by 10)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29623"></a>29623</td>
<td class="instruction">LD D,0</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29625"></a>29625</td>
<td class="instruction">PUSH HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29626"></a>29626</td>
<td class="instruction">LD HL,(32741)</td>
<td class="comment-11" rowspan="3">Add points to the score (stored at <a class="link" href="32741.html">32741</a>)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29629"></a>29629</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29630"></a>29630</td>
<td class="instruction">LD (32741),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29633"></a>29633</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29634"></a>29634</td>
<td class="instruction">LD HL,20900</td>
<td class="comment-11" rowspan="1"><span class="register">HL</span>=display file address for printing the score</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="29637"></a>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a class="link" href="29643.html">29643</a> with <span class="register">HL</span>=20932 (display file address for printing the lines total).
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="29637"></a>29637</td>
<td class="instruction">CALL <a class="link" href="29613.html">29613</a></td>
<td class="comment-11" rowspan="1">Print the new score or lines total</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29640"></a>29640</td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29641"></a>29641</td>
<td class="instruction">POP DE</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="29642"></a>29642</td>
<td class="instruction">RET</td>
<td class="comment-11" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="29613.html">29613</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#29621">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="29643.html">29643</a></span></td>
</tr>
</table>
<div class="footer">
<div class="release">The complete Back to Skool RAM disassembly 20150415</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd (Back to Skool). &#169; 2015 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a class="link" href="http://skoolkit.ca/">SkoolKit</a> 4.3.</div>
</div>
</body>
</html>