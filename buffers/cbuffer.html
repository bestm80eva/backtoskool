<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Back to Skool: Character buffers</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../microsphere.css" />
<link rel="stylesheet" type="text/css" href="../skool.css" />
<link rel="stylesheet" type="text/css" href="../bts.css" />

</head>
<body class="CharacterBuffers">
<table class="header">
<tr>
<td class="logo"><a class="link" href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Character buffers</td>
</tr>
</table>
<p>The character buffers occupy bytes 0-36 in pages 183-214. The buffers in pages 198, 199, 206, 207 and 208 may be used by mice released by ERIC.</p>
<table class="cbuffer">
<tr>
<th>Page</th>
<th>Address</th>
<th>Character</th>
<td class="transparent"/>
<th>Page</th>
<th>Address</th>
<th>Character</th>
<td class="transparent"/>
<th>Page</th>
<th>Address</th>
<th>Character</th>
</tr>
<tr>
<td class="cbufPage">183</td>
<td class="cbufAddress"><a class="link" href="../asm/46848.html">46848</a></td>
<td class="cbufCharacter">Little girl no. 1</td>
<td class="transparent"/>
<td class="cbufPage">194</td>
<td class="cbufAddress"><a class="link" href="../asm/49664.html">49664</a></td>
<td class="cbufCharacter">Little boy no. 5</td>
<td class="transparent"/>
<td class="cbufPage">205</td>
<td class="cbufAddress"><a class="link" href="../asm/52480.html">52480</a></td>
<td class="cbufCharacter">ALBERT</td>
</tr>
<tr>
<td class="cbufPage">184</td>
<td class="cbufAddress"><a class="link" href="../asm/47104.html">47104</a></td>
<td class="cbufCharacter">Little girl no. 2</td>
<td class="transparent"/>
<td class="cbufPage">195</td>
<td class="cbufAddress"><a class="link" href="../asm/49920.html">49920</a></td>
<td class="cbufCharacter">Little boy no. 6</td>
<td class="transparent"/>
<td class="cbufPage">206</td>
<td class="cbufAddress"><a class="link" href="../asm/52736.html">52736</a></td>
<td class="cbufCharacter">BOY WANDER</td>
</tr>
<tr>
<td class="cbufPage">185</td>
<td class="cbufAddress"><a class="link" href="../asm/47360.html">47360</a></td>
<td class="cbufCharacter">Little girl no. 3</td>
<td class="transparent"/>
<td class="cbufPage">196</td>
<td class="cbufAddress"><a class="link" href="../asm/50176.html">50176</a></td>
<td class="cbufCharacter">Little boy no. 7</td>
<td class="transparent"/>
<td class="cbufPage">207</td>
<td class="cbufAddress"><a class="link" href="../asm/52992.html">52992</a></td>
<td class="cbufCharacter">ANGELFACE</td>
</tr>
<tr>
<td class="cbufPage">186</td>
<td class="cbufAddress"><a class="link" href="../asm/47616.html">47616</a></td>
<td class="cbufCharacter">Little girl no. 4</td>
<td class="transparent"/>
<td class="cbufPage">197</td>
<td class="cbufAddress"><a class="link" href="../asm/50432.html">50432</a></td>
<td class="cbufCharacter">Little boy no. 8</td>
<td class="transparent"/>
<td class="cbufPage">208</td>
<td class="cbufAddress"><a class="link" href="../asm/53248.html">53248</a></td>
<td class="cbufCharacter">EINSTEIN</td>
</tr>
<tr>
<td class="cbufPage">187</td>
<td class="cbufAddress"><a class="link" href="../asm/47872.html">47872</a></td>
<td class="cbufCharacter">Little girl no. 5</td>
<td class="transparent"/>
<td class="cbufPage">198</td>
<td class="cbufAddress"><a class="link" href="../asm/50688.html">50688</a></td>
<td class="cbufCharacter">Little boy no. 9</td>
<td class="transparent"/>
<td class="cbufPage">209</td>
<td class="cbufAddress"><a class="link" href="../asm/53504.html">53504</a></td>
<td class="cbufCharacter">HAYLEY</td>
</tr>
<tr>
<td class="cbufPage">188</td>
<td class="cbufAddress"><a class="link" href="../asm/48128.html">48128</a></td>
<td class="cbufCharacter">Little girl no. 6</td>
<td class="transparent"/>
<td class="cbufPage">199</td>
<td class="cbufAddress"><a class="link" href="../asm/50944.html">50944</a></td>
<td class="cbufCharacter">Little boy no. 10</td>
<td class="transparent"/>
<td class="cbufPage">210</td>
<td class="cbufAddress"><a class="link" href="../asm/53760.html">53760</a></td>
<td class="cbufCharacter">ERIC</td>
</tr>
<tr>
<td class="cbufPage">189</td>
<td class="cbufAddress"><a class="link" href="../asm/48384.html">48384</a></td>
<td class="cbufCharacter">Little girl no. 7</td>
<td class="transparent"/>
<td class="cbufPage">200</td>
<td class="cbufAddress"><a class="link" href="../asm/51200.html">51200</a></td>
<td class="cbufCharacter">MR WACKER</td>
<td class="transparent"/>
<td class="cbufPage">211</td>
<td class="cbufAddress"><a class="link" href="../asm/54016.html">54016</a></td>
<td class="cbufCharacter">Bike</td>
</tr>
<tr>
<td class="cbufPage">190</td>
<td class="cbufAddress"><a class="link" href="../asm/48640.html">48640</a></td>
<td class="cbufCharacter">Little boy no. 1</td>
<td class="transparent"/>
<td class="cbufPage">201</td>
<td class="cbufAddress"><a class="link" href="../asm/51456.html">51456</a></td>
<td class="cbufCharacter">MR WITHIT</td>
<td class="transparent"/>
<td class="cbufPage">212</td>
<td class="cbufAddress"><a class="link" href="../asm/54272.html">54272</a></td>
<td class="cbufCharacter">Frog; mouse</td>
</tr>
<tr>
<td class="cbufPage">191</td>
<td class="cbufAddress"><a class="link" href="../asm/48896.html">48896</a></td>
<td class="cbufCharacter">Little boy no. 2</td>
<td class="transparent"/>
<td class="cbufPage">202</td>
<td class="cbufAddress"><a class="link" href="../asm/51712.html">51712</a></td>
<td class="cbufCharacter">MR ROCKITT</td>
<td class="transparent"/>
<td class="cbufPage">213</td>
<td class="cbufAddress"><a class="link" href="../asm/54528.html">54528</a></td>
<td class="cbufCharacter">BOY WANDER's pellet; stinkbomb cloud</td>
</tr>
<tr>
<td class="cbufPage">192</td>
<td class="cbufAddress"><a class="link" href="../asm/49152.html">49152</a></td>
<td class="cbufCharacter">Little boy no. 3</td>
<td class="transparent"/>
<td class="cbufPage">203</td>
<td class="cbufAddress"><a class="link" href="../asm/51968.html">51968</a></td>
<td class="cbufCharacter">MR CREAK</td>
<td class="transparent"/>
<td class="cbufPage">214</td>
<td class="cbufAddress"><a class="link" href="../asm/54784.html">54784</a></td>
<td class="cbufCharacter">ERIC's pellet; water/sherry; plant; conker; desk lid</td>
</tr>
<tr>
<td class="cbufPage">193</td>
<td class="cbufAddress"><a class="link" href="../asm/49408.html">49408</a></td>
<td class="cbufCharacter">Little boy no. 4</td>
<td class="transparent"/>
<td class="cbufPage">204</td>
<td class="cbufAddress"><a class="link" href="../asm/52224.html">52224</a></td>
<td class="cbufCharacter">MISS TAKE</td>
<td class="transparent"/>
</tr>
</table>
<p>The bytes in each character buffer are used as follows:</p>
<table class="cbuffer">
<tr>
<th>Byte(s)</th>
<th>Contents</th>
</tr>
<tr>
<td class="cbufBytes">0</td>
<td class="cbufByteDesc">
Animatory state
</td>
</tr>
<tr>
<td class="cbufBytes">1,2</td>
<td class="cbufByteDesc">
Location (x, y)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">3</td>
<td class="cbufByteDesc">
LSB of the primary command routine address (see <a class="link" href="../asm/25296.html">25296</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride animatory state (see <a class="link" href="../asm/28114.html">28114</a>, <a class="link" href="../asm/28160.html">28160</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">4</td>
<td class="cbufByteDesc">
MSB of the primary command routine address (see <a class="link" href="../asm/25296.html">25296</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride x-coordinate (see <a class="link" href="../asm/28114.html">28114</a>, <a class="link" href="../asm/28160.html">28160</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">5</td>
<td class="cbufByteDesc">
Destination x-coordinate (see <a class="link" href="../asm/25700.html">25700</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride y-coordinate (see <a class="link" href="../asm/28114.html">28114</a>, <a class="link" href="../asm/28160.html">28160</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">6</td>
<td class="cbufByteDesc">
Destination y-coordinate (see <a class="link" href="../asm/25700.html">25700</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Walkabout event identifier (see <a class="link" href="../asm/31969.html">31969</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">7</td>
<td class="cbufByteDesc">
Number of mini-walkabouts remaining (see <a class="link" href="../asm/31969.html">31969</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">8</td>
<td class="cbufByteDesc">
Unused
</td>
</tr>
<tr>
<td class="cbufBytes">9,10</td>
<td class="cbufByteDesc">
Interruptible subcommand routine address (see <a class="link" href="../asm/25296.html">25296</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="5">11</td>
<td class="cbufByteDesc">
LSB of the address of the next character in the message being written into a graphic buffer (buffer <a class="link" href="../asm/54784.html">214</a> only; see <a class="link" href="../asm/27419.html">27419</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
LSB of the address of the next character in the message being written on a blackboard or spoken (see <a class="link" href="../asm/26318.html">26318</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of steps left to be ascended (see <a class="link" href="../asm/25656.html">25656</a>) or descended (see <a class="link" href="../asm/25677.html">25677</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of movements remaining to wipe the blackboard (see <a class="link" href="../asm/26639.html">26639</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Intermediate destination x-coordinate (see <a class="link" href="../asm/25581.html">25581</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="4">12</td>
<td class="cbufByteDesc">
MSB of the address of the next character in the message being written into a graphic buffer (buffer <a class="link" href="../asm/54784.html">214</a> only; see <a class="link" href="../asm/27419.html">27419</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
MSB of the address of the next character in the message being written on a blackboard or spoken (see <a class="link" href="../asm/26318.html">26318</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of paces remaining until the next command list restart request check (see <a class="link" href="../asm/25581.html">25581</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
x-coordinate of the column of the blackboard being wiped (see <a class="link" href="../asm/26639.html">26639</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">13</td>
<td class="cbufByteDesc">
LSB of the address of the next character in the submessage being written on a blackboard or spoken (see <a class="link" href="../asm/26318.html">26318</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
y-coordinate of the top row of the blackboard being wiped (see <a class="link" href="../asm/26639.html">26639</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">14</td>
<td class="cbufByteDesc">
MSB of the address of the next character in the submessage being written on a blackboard or spoken (see <a class="link" href="../asm/26318.html">26318</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Identifier of the blackboard being wiped (see <a class="link" href="../asm/26639.html">26639</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="3">15</td>
<td class="cbufByteDesc">
LSB of the address of the next character in the sub-submessage being written on a blackboard or spoken (see <a class="link" href="../asm/26318.html">26318</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Animatory state of the character whose buffer is being borrowed by a mouse (see <a class="link" href="../asm/31254.html">31254</a>, <a class="link" href="../asm/31502.html">31502</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Post-midstride y-coordinate increment to use while chasing ERIC (see <a class="link" href="../asm/25944.html">25944</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">16</td>
<td class="cbufByteDesc">
MSB of the address of the next character in the sub-submessage being written on a blackboard or spoken (see <a class="link" href="../asm/26318.html">26318</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Counter determining the lifespan of a mouse released by ERIC (see <a class="link" href="../asm/31254.html">31254</a>, <a class="link" href="../asm/31502.html">31502</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">17,18</td>
<td class="cbufByteDesc">
Uninterruptible subcommand routine address (see <a class="link" href="../asm/25296.html">25296</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="11">19</td>
<td class="cbufByteDesc">
Identifier of the door or window being opened or closed (see <a class="link" href="../asm/29052.html">29052</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
MR WACKER's x-coordinate before he goes to open a window (see <a class="link" href="../asm/63586.html">63586</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
HAYLEY's pre-kiss x-coordinate (see <a class="link" href="../asm/24328.html">24328</a>, <a class="link" href="../asm/24348.html">24348</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Distance remaining for the mouse to travel before hiding or considering a change of direction (see <a class="link" href="../asm/31254.html">31254</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Counter determining how much longer the character will stay down after being knocked over (see <a class="link" href="../asm/30102.html">30102</a>) or knocked out of a chair (see <a class="link" href="../asm/26224.html">26224</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Distance remaining for the pellet to travel (see <a class="link" href="../asm/30380.html">30380</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Counter determining how much longer the female character should continue jumping up and down (see <a class="link" href="../asm/31078.html">31078</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Counter determining how much longer the desk lid should stay up (see <a class="link" href="../asm/62178.html">62178</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Counter determining how much longer the stinkbomb cloud will stick around (see <a class="link" href="../asm/63586.html">63586</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Water/sherry animation phase identifier (see <a class="link" href="../asm/63915.html">63915</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Counter determining the phases of growth of a watered plant (see <a class="link" href="../asm/64077.html">64077</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="8">20</td>
<td class="cbufByteDesc">
Open/close parameter for the door or window being opened or closed (see <a class="link" href="../asm/29052.html">29052</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
MR WACKER's animatory state before he goes to open a window (see <a class="link" href="../asm/63586.html">63586</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
HAYLEY's pre-kiss animatory state (see <a class="link" href="../asm/24328.html">24328</a>, <a class="link" href="../asm/24348.html">24348</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Counter determining when the mouse should hide (see <a class="link" href="../asm/31254.html">31254</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Pre-knockout animatory state (see <a class="link" href="../asm/30102.html">30102</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ANGELFACE's pre-punch animatory state (see <a class="link" href="../asm/30739.html">30739</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
BOY WANDER's pre-fire animatory state (see <a class="link" href="../asm/30555.html">30555</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
x-coordinate at which the plant will appear when it starts growing (see <a class="link" href="../asm/64077.html">64077</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="3">21</td>
<td class="cbufByteDesc">
Counter determining when the mouse should come out of hiding (see <a class="link" href="../asm/31254.html">31254</a>, <a class="link" href="../asm/31502.html">31502</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
0 if the frightened female is jumping up and down, or 1 if she's standing on a chair (see <a class="link" href="../asm/31092.html">31092</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
x-coordinate of the window MR WACKER will open after smelling a stinkbomb (see <a class="link" href="../asm/63586.html">63586</a>, <a class="link" href="../asm/63801.html">63801</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">22</td>
<td class="cbufByteDesc">
x-coordinate of the mouse when it last hid (see <a class="link" href="../asm/31254.html">31254</a>, <a class="link" href="../asm/31502.html">31502</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Identifier of the window MR WACKER will open after smelling a stinkbomb (see <a class="link" href="../asm/63586.html">63586</a>, <a class="link" href="../asm/63801.html">63801</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">23,24</td>
<td class="cbufByteDesc">
Continual subcommand routine address (see <a class="link" href="../asm/25296.html">25296</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">25,26</td>
<td class="cbufByteDesc">
Address reached in the command list
</td>
</tr>
<tr>
<td class="cbufBytes">27,28</td>
<td class="cbufByteDesc">
Start address of the command list
</td>
</tr>
<tr>
<td class="cbufBytes">29</td>
<td class="cbufByteDesc">
Various flags; initially populated by <a class="link" href="../asm/62910.html">62910</a> with a copy of byte 35 of the character's buffer:
<table class="default">
<tr>
<th>Bit(s)</th>
<th>Meaning if set</th>
</tr>
<tr>
<td class="centre">0</td>
<td>Restart the command list at the next opportunity (see <a class="link" href="../asm/25296.html">25296</a>)</td>
</tr>
<tr>
<td class="centre">1-2</td>
<td>Unused</td>
</tr>
<tr>
<td class="centre">3</td>
<td>Character is a candidate for immediate transportation to his destination (set by <a class="link" href="../asm/63309.html">63309</a>; checked and reset by <a class="link" href="../asm/25080.html#25134">25134</a>; also reset by <a class="link" href="../asm/25296.html">25296</a>)</td>
</tr>
<tr>
<td class="centre">4</td>
<td>Unused (always reset, but checked by <a class="link" href="../asm/25296.html">25296</a>; if set, it would make the character run until the current primary command has terminated)</td>
</tr>
<tr>
<td class="centre">5</td>
<td>Character is an adult (see <a class="link" href="../asm/25296.html">25296</a>)</td>
</tr>
<tr>
<td class="centre">6</td>
<td>Character is not human (see <a class="link" href="../asm/25296.html">25296</a>)</td>
</tr>
<tr>
<td class="centre">7</td>
<td>Character is running (see <a class="link" href="../asm/25296.html">25296</a>)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="cbufBytes">30</td>
<td class="cbufByteDesc">
Walking speed change delay counter (see <a class="link" href="../asm/25296.html">25296</a>); initialised to bits 0-3 of the character number (see <a class="link" href="../asm/62910.html">62910</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">31</td>
<td class="cbufByteDesc">
Unused
</td>
</tr>
<tr>
<td class="cbufBytes">32</td>
<td class="cbufByteDesc">
Initial animatory state (see <a class="link" href="../asm/62910.html">62910</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">33,34</td>
<td class="cbufByteDesc">
Initial location (see <a class="link" href="../asm/62910.html">62910</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">35</td>
<td class="cbufByteDesc">
Initial flags for byte 29 (see <a class="link" href="../asm/62910.html">62910</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">36</td>
<td class="cbufByteDesc">
Random location table identifier (see <a class="link" href="../asm/25815.html">25815</a>)
</td>
</tr>
</table>
<div class="footer">
<div class="release">The complete Back to Skool RAM disassembly 20140614</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd (Back to Skool). &#169; 2014 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a class="link" href="http://pyskool.ca/?page_id=177">SkoolKit</a> 4.0.</div>
</div>
</body>
</html>